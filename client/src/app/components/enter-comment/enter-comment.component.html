<div class=" flex gap-2 flex-col px-4 py-2">
  <div [formGroup]="formGroup" class="bg-gray-200 rounded-2xl">
    <textarea 
      [autoResize]="true"
      [placeholder]="placeholder()" 
      formControlName="comment"
      class="resize-none font-medium text-base w-full bg-gray-200" 
      [rows]="1"
      pInputTextarea
      ></textarea>
    @if(isEmojiActive || isSelectImageActive) {
      <div class="flex gap-2 overflow-x-auto bg-gray-300 p-1">
        @if(isEmojiActive) {
        @for(emoji of emojis; track emoji) {
        <div class="flex text-3xl items-center justify-center" (click)="onEmojiClick(emoji.icon)">{{emoji.icon}}</div>
        }
        }

        @if(isSelectImageActive) {
          <app-upload-file #fileUploadRef formControlName="images"></app-upload-file>
        }
      </div>
    }

    <div class="bottom-0 left-0  w-full flex gap-4 px-4 py-2 justify-between">
      <div class="flex gap-4">
        <span [class.text-secondary-color]="isEmojiActive" class="pi pi-face-smile text-2xl"
          (click)="onClickToggleEmoji()"></span>
        <span [class.text-secondary-color]="isSelectImageActive" class="pi pi-camera text-2xl"
          (click)="onClickToggleSelectImage()"></span>
      </div>
      <span [class.text-sky-300]="formGroup.valid" class="pi pi-send text-2xl cursor-pointer" (click)="handleSubmit()"></span>
    </div>
  </div>
</div>